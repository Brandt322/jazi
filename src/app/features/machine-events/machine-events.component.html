<div class="">
  <p-table
    #machineEventsTable
    [value]="machineEvents.eventos"
    [rows]="5"
    [paginator]="true"
    [globalFilterFields]="['date','hour']"
    [tableStyle]="{
      'min-width': '100%',
      border: '1px solid #e7eaed',
      'border-top': 'none'
    }"
    styleClass=""
    dataKey="id"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [breakpoint]="'1170px'"
  >
    <ng-template pTemplate="caption">
      <div class="flex align-items-center justify-content-between">
        <div class="flex align-items-center gap-2">
          <h5 class="m-0 text-xl font-semibold text-gray-800">Eventos</h5>
          <span
            class="inline-flex align-items-center px-3 py-1 border-round-2xl text-base font-medium bg-orange-100 text-orange-400">
            {{ machineEvents.total }}
            eventos
          </span>
        </div>
        <span class="p-input-icon-left">
          <label for="desde" class="font-medium text-sm text-gray-800">Desde:&nbsp;</label>
          <p-calendar id="desde" [(ngModel)]="desde" [showTime]="true" [showSeconds]="true" dateFormat="dd/mm/yy"
                      inputId="time"
                      class="mr-2">
          </p-calendar>
          <label for="hasta" class="font-medium text-sm text-gray-800">Hasta:&nbsp;</label>
          <p-calendar id="hasta" [(ngModel)]="hasta" [showTime]="true" [showSeconds]="true" dateFormat="dd/mm/yy"
                      inputId="time"
                      class="mr-2">
          </p-calendar>
          <button pButton class="p-button-secondary p-button-outlined mr-2" icon="pi pi-filter-fill"
                  pTooltip="Filtrar" tooltipPosition="top" (click)="setDates();getEvents()">
          </button>
          <button pButton class="p-button-secondary p-button-outlined" icon="pi pi-file-excel"
                  pTooltip="Exportar a Excel" tooltipPosition="top" (click)="exportExcel()">
          </button>
        </span>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th scope="col">Molde</th>
        <th scope="col">Tipo de Evento</th>
        <th scope="col">Fecha</th>
        <th scope="col">Hora</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-event>
      <tr>
        <td class="font-medium">{{ machineEvents.equipoInfo.molde != '' ? machineEvents.equipoInfo.molde : '-' }}</td>
        <td class="font-medium">
          {{ event.tipoEvento }}
        </td>
        <td class="font-medium">{{ event.fecha | date: 'dd/MM/yyyy' }}</td>
        <td class="font-medium">{{ event.hora }}</td>
      </tr>
    </ng-template>
    <ng-template pTemplate="paginatorleft">
      <p-button
        type="button"
        icon="pi pi-arrow-left"
        label="Volver"
        styleClass="p-button-outlined border-gray-300 text-gray-800"
      ></p-button>
    </ng-template>
    <ng-template pTemplate="paginatorright">
      <p-button
        type="button"
        label="Siguiente"
        icon="pi pi-arrow-right"
        iconPos="right"
        styleClass="p-button-outlined border-gray-300 text-gray-800"
      ></p-button>
    </ng-template>
  </p-table>
</div>

